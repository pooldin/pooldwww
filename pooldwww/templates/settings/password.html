{% extends "document/right_article.html" %}

{% block secondary %}
{% include 'settings/nav.html' %}
{% endblock %}

{% block article %}
<form class="password" action="{{ url_for('settings.password') }}" method="POST" data-bind="submit: form.submit">
  <h1>Change Password</h1>
  <hr />
  <label>
    <input name="old_password"
           type="password"
           class="text password first"
           data-bind="value: form.oldPassword, css: { error: form.isInvalid('oldPassword') }"
           placeholder="Old Password"
           autofocus="autofocus" />
  </label>
  <label>
    <input name="new_password"
           type="password"
           class="text password"
           data-bind="value: form.newPassword, css: { error: form.isInvalid('newPassword') }"
           placeholder="New Password" />
  </label>
  <label>
    <input name="new_password_confirm"
           type="password"
           class="text password last"
           data-bind="value: form.newPasswordConfirm, css: { error: form.isInvalid('newPasswordConfirm') }"
           placeholder="Confirm New Password" />
  </label>
  <div class="submit">
    <input type="submit" class="btn btn-info" value="Save" />
  </div>
</form>
{% endblock %}

{% block init %}
<script type="text/javascript">
  PI.pages.Settings.init({
    form: new PI.forms.ChangePasswordForm()
  });
</script>
{% endblock %}
